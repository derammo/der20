// moved to parser until we can untangle circular dependency